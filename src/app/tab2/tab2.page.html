<ion-header>
  <ion-toolbar>
    <ion-title size="large">Donación de Animales</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="logout()">
        <ion-icon name="log-out-outline"></ion-icon>
        Cerrar Sesión
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="custom-background">
  <!-- Lista de publicaciones -->
  <ion-list *ngIf="publicaciones && publicaciones.length > 0">
    <ion-card *ngFor="let publicacion of publicaciones" class="card-transparente">
      <!-- Colocamos la imagen arriba -->
      <ion-img [src]="publicacion.imagenURL || 'assets/default-avatar.png'" class="mascota-img"></ion-img>

      <!-- Colocamos las descripciones debajo de la imagen -->
      <ion-card-content>
        <h2>{{ publicacion.nombreMascota || 'Nombre desconocido' }}</h2>
        <p>Raza: {{ publicacion.razaMascota || 'Desconocida' }}</p>
        <p>Edad: {{ publicacion.edadMascota || 'No disponible' }} años</p>
        <p>Tipo: {{ publicacion.tipoMascota || 'No especificado' }}</p>
        <p>Estado de salud: {{ publicacion.estadoSaludMascota || 'No disponible' }}</p>
        <p>Descripción: {{ publicacion.descripcionMascota || 'Sin descripción' }}</p>
        <p>Donado por: {{ publicacion.nombreUsuario || 'Usuario desconocido' }}</p>
      </ion-card-content>

      <!-- Botón para más detalles -->
      <ion-item lines="none">
        <ion-button expand="block" color="primary" (click)="mostrarInformacion(publicacion)">
          Ver más detalles
        </ion-button>
      </ion-item>

      <!-- Botón para solicitar adopción -->
      <ion-item lines="none">
        <ion-button expand="block" color="secondary" (click)="solicitarAdopcion(publicacion)">
          Solicitar Adopción
        </ion-button>
      </ion-item>

      <!-- Botón para compartir -->
      <ion-item lines="none" style="text-align: right;">
        <ion-button fill="clear" (click)="compartirPublicacion(publicacion)">
          <ion-icon slot="icon-only" name="share"></ion-icon>
        </ion-button>
      </ion-item>
    </ion-card>
  </ion-list>

  <!-- Mensaje si no hay publicaciones disponibles -->
  <ion-list *ngIf="!publicaciones || publicaciones.length === 0">
    <ion-item>
      <ion-label>No hay animales disponibles para donación en este momento.</ion-label>
    </ion-item>
  </ion-list>
</ion-content>
